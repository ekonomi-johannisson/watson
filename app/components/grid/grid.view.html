<style>
    .container {
        position: relative;
        font-family: monospace;
        font-size: 10px;
        border: solid 1px gray;
        width: 300px;
        height: 200px;
    }

    .outline {
        border: solid 1px red;
        outline: solid 1px red;
    }

    .data {
        position: absolute;
        font-size: 11px;
        line-height: 150%;
        background: #fff;
        padding: 3px 10px 0px 3px;
    }

        .data span {
            white-space: pre;
        }

    .description {
        position: absolute;
        bottom: 3px;
        left: 3px;
    }

    img {
        position: absolute;
        width: 100%;
        height: 100%;
    }
</style>
<input type="checkbox" id="fill" ng-model="$ctrl.fill" /><label for="fill">Fill</label>
<br />
<input type="checkbox" id="owned" ng-model="$ctrl.owned" /><label for="owned">Owned</label>
<br />
<input type="checkbox" id="transactions" ng-model="$ctrl.transactions" /><label for="transactions">Transactions</label>
<br />
<input type="checkbox" id="closing" ng-model="$ctrl.closing" /><label for="closing">Closing</label>
<br />
<br />
<input type="checkbox" id="fishnet" ng-model="$ctrl.fishnet" /><label for="fishnet">Fishnet</label>
<br />
<input type="checkbox" id="bollinger_bands" ng-model="$ctrl.bollinger_bands" /><label for="bollinger_bands">Bollinger Bands</label>
<br />
<input type="checkbox" id="straight" ng-model="$ctrl.straight" /><label for="straight">Straight</label>
<br />
<input type="checkbox" id="percentage_lines" ng-model="$ctrl.percentage_lines" /><label for="percentage_lines">Percentage Lines</label>
<br />

<button ng-click="$ctrl.showICB = !$ctrl.showICB">ISB</button>
<table ng-if="$ctrl.showICB">
    <tr>
        <td>
            <input type="checkbox" ng-click="$ctrl.toggleAll()" checked />All<br />
            <input type="checkbox" ng-model="$ctrl.icb[1300]" />Chemicals<br />
            <input type="checkbox" ng-model="$ctrl.icb[1700]" />Basic Resources<br />
            <input type="checkbox" ng-model="$ctrl.icb[2300]" />Construction & Materials<br />
            <input type="checkbox" ng-model="$ctrl.icb[2700]" />Industrial Goods & Services<br />
        </td>
        <td>
            <input type="checkbox" ng-model="$ctrl.icb[3300]" />Automobiles & Parts<br />
            <input type="checkbox" ng-model="$ctrl.icb[3500]" />Food & Beverage<br />
            <input type="checkbox" ng-model="$ctrl.icb[3700]" />Personal & Household Goods<br />
            <input type="checkbox" ng-model="$ctrl.icb[4500]" />Health Care<br />
            <input type="checkbox" ng-model="$ctrl.icb[5300]" />Retail<br />
        </td>
        <td>
            <input type="checkbox" ng-model="$ctrl.icb[5500]" />Media<br />
            <input type="checkbox" ng-model="$ctrl.icb[5700]" />Travel & Leisure<br />
            <input type="checkbox" ng-model="$ctrl.icb[6500]" />Telecommunications<br />
            <input type="checkbox" ng-model="$ctrl.icb[7500]" />Utilities<br />
            <input type="checkbox" ng-model="$ctrl.icb[8300]" />Banks<br />
        </td>
        <td valign="top">
            <input type="checkbox" ng-model="$ctrl.icb[8500]" />Insurance<br />
            <input type="checkbox" ng-model="$ctrl.icb[8600]" />Real Estate<br />
            <input type="checkbox" ng-model="$ctrl.icb[8700]" />Financial Services<br />
            <input type="checkbox" ng-model="$ctrl.icb[8900]" />Investment Instruments<br />
            <input type="checkbox" ng-model="$ctrl.icb[9500]" />Technology ({{$ctrl.count('9500')}})
        </td>
    </tr>
</table>
<br />
<br />
<div ng-repeat="row in $ctrl.data" style="float: left; padding: 5px;" ng-click="row.selected = !row.selected" ng-if="$ctrl.icb[row.ICB]">
    <div class="container" ng-class="{outline: row.selected}">
        <img ng-if="row.Images.Fill && $ctrl.fill" src="{{ 'data/img/' + row.Symbol + '_fill.png' }}" />
        <img src="{{ 'data/img/' + row.Symbol + '_chart.png' }}" />
        <img ng-if="row.Images.Owned && $ctrl.owned" src="{{ 'data/img/' + row.Symbol + '_owned.png' }}" />
        <img ng-if="$ctrl.straight" src="{{ 'data/img/' + row.Symbol + '_straight.png' }}" />
        <img ng-if="$ctrl.percentage_lines" src="{{ 'data/img/' + row.Symbol + '_percentage_lines.png' }}" />
        <img ng-if="row.Images.Transactions && $ctrl.transactions" src="{{ 'data/img/' + row.Symbol + '_transactions.png' }}" />
        <img ng-if="$ctrl.fishnet" src="{{ 'data/img/' + row.Symbol + '_fishnet.png' }}" />
        <img ng-if="$ctrl.closing" src="{{ 'data/img/' + row.Symbol + '_closing.png' }}" />
        <img ng-if="$ctrl.bollinger_bands" src="{{ 'data/img/' + row.Symbol + '_bollinger_bands.png' }}" />

        <div class="data">
            <span style="font-size:12px">{{row.Symbol.toUpperCase()}}</span><br />
            <span>Min:     {{row.Min.toFixed(2).padStart(7)}} kr</span><br />
            <span>Max:     {{row.Max.toFixed(2).padStart(7)}} kr</span><br />
            <span>Closing: {{row.Closing.toFixed(2).padStart(7)}} kr</span><br />
            <span ng-if="row.Quantity" style="color: blue;"><b>Value:   {{(row.Quantity * row.Closing).toFixed(2).padStart(7)}} kr</b></span>
        </div>
        <span class="description">{{row.Description}}</span>
        <span class="percentage_lines">0 %</span>
    </div>
</div>